前端监控的建设应该从页面稳定性、页面性能、业务分析逐级进行能力建设。在稳定性方面，也就是异常的上报，建议做到实时上报，方便后续做实时告警。
同时在后续异常的分析和定位环节，为了我们的排查工作更高效率，还要将诸如版本号、ua等信息上传。
同样在排查定位阶段，有的时候我们需要获悉用户的操作流程来复现，这就需要通过某些策略将用户所有行为：接口调用、路由跳转、点击事件…按照时间进行串联。又或者某些情况下，业务上的一些数据异常，并没有引起js异常，但同样需要关注，这就需要sdk暴露api，能够主动在代码中上传自定义异常，以及类似日志一样的附加数据上传。
继续考虑发现异常后对异常进行进一步治理和跟进，需要将异常进行归类，而只靠message进行归类是不现实的，所以还要考虑异常指纹如何计算，可以讲堆栈信息中的文件名函数名行列号进行哈希，将异常按照代码中位置进行分类。

前端性能监控原理：基于

DCL： html + css + js 加载完成（下载 + 编译）
L：其他资源加载完成（如果资源请求30s，则会30s之后onload）

如果页面比较小 DCL和 L在前  FP FCP LCP在后
如果页面较大，资源较多，则DCL和L在后  FP FCP LCP在前

# TODO
L包括ajax和异步吗
tti计算

https://github.com/paperscz/fmp-tti
https://github.com/pwstrick/shin-monitor
https://www.kancloud.cn/pwstrick/fe-questions/2305452
https://zhuanlan.zhihu.com/p/81774869